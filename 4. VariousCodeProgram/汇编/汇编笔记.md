# 汇编笔记1

> 本人学习电脑用的是 `Win11`

# 前置知识

> 先放个链接, 具体只是后期补充.
>
> http://fynote.com/s/3251
>
> http://fynote.com/s/3269
>
> 注意: **寄存器**的内容很重要

第四章 汇编程序：http://fynote.com/s/3315
第五章 汇编指令：http://fynote.com/s/3354



# Dos 和 MASM 解压和安装

> 先直接在`D盘` 创建一个

1. `Dos`直接`Next ` 或者 `确定`就可以了.

2. `MASM`直接解压. (然后将 `解压的内容复制一份到下方创建的 mypan这个文件夹`)

3. 创建一个新的文件夹`mypan`

   ![image-20230523154114227](https://raw.githubusercontent.com/QDGSCLOUD/BJYH_picture/main/img/image-20230523154114227.png)

4. 此时直接点击桌面图标就行.

   ![image-20230523154303085](https://raw.githubusercontent.com/QDGSCLOUD/BJYH_picture/main/img/image-20230523154303085.png)

5. 会有两个窗口, 直接在下面这个窗口进行操作.

   ![image-20230523154353096](https://raw.githubusercontent.com/QDGSCLOUD/BJYH_picture/main/img/image-20230523154353096.png)

6. 手动输入命令, 设置虚拟盘:

   ```
   mount c D:\DOS\mypan
   ```

   结果如下:![image-20230523154959004](https://raw.githubusercontent.com/QDGSCLOUD/BJYH_picture/main/img/image-20230523154959004.png)

7. 在`mypan`中, 随便创建一个文件, 命名为 `1.asm`

   回到黑窗口, 输入`c:`

   ![image-20230523155549173](https://raw.githubusercontent.com/QDGSCLOUD/BJYH_picture/main/img/image-20230523155549173.png)

8. 输入`masm 1.asm`, 这个时候会生成中间文件, 起个名字叫`2`, 之后`回车两次`就行.

   ![image-20230523160056933](https://raw.githubusercontent.com/QDGSCLOUD/BJYH_picture/main/img/image-20230523160056933.png)

> 输入`dir`可以看到, 一个 `2.OBJ`文件.
>
> ![image-20230523160503370](https://raw.githubusercontent.com/QDGSCLOUD/BJYH_picture/main/img/image-20230523160503370.png)

9. 输入`link 2.OBJ`, 生成一个可执行文件, 起个名字叫`3`

   然后输入: `3.exe`, 啥都没有,说明正常(因为根本就没写内容啊)

   ![image-20230523160724870](https://raw.githubusercontent.com/QDGSCLOUD/BJYH_picture/main/img/image-20230523160724870.png)

   ![image-20230523161522021](https://raw.githubusercontent.com/QDGSCLOUD/BJYH_picture/main/img/image-20230523161522021.png)



# 配置

> 如果关机了, 那么每次我们打开`DOS.BOx` 都要输入`mount c`才行. 为了省却该步骤, 可以这样.
>
> ![image-20230523162006399](https://raw.githubusercontent.com/QDGSCLOUD/BJYH_picture/main/img/image-20230523162006399.png)

​	

2. 仍然是这个文件, 开启的时候由于操作窗口太小了, 所以调节窗口大小. 

   ![image-20230523162503675](https://raw.githubusercontent.com/QDGSCLOUD/BJYH_picture/main/img/image-20230523162503675.png)

```
mount c D:\DOS\mypan
c:


windowresolution=1280x800
```



# 调试演示

输入:

```
debug 3.exe

# 输入r 查看及寄存器内容

# 输入d 查看内存的内容

# 输入 d 1000:0 , 查看1000:0 这个指定单元格的内容.

# 修改内存内容, 用 e , 例如: 修改073F:0100的前8个字节
e 073F:0100 0 1 2 3 4 5 6 7
# 注意: 编辑的时候需要在对应的单元格下操作, 否则Error

# u 查看内存源码

# t执行一条机器指令  , 此时 CS , Ip 就被改变了

# a 以汇编格式在内存中写入一条机器指令

# quit 退出调试

```

![image-20230523163905105](https://raw.githubusercontent.com/QDGSCLOUD/BJYH_picture/main/img/image-20230523163905105.png)

![image-20230523164507685](https://raw.githubusercontent.com/QDGSCLOUD/BJYH_picture/main/img/image-20230523164507685.png)

![image-20230523164747651](https://raw.githubusercontent.com/QDGSCLOUD/BJYH_picture/main/img/image-20230523164747651.png)

![image-20230523164901608](https://raw.githubusercontent.com/QDGSCLOUD/BJYH_picture/main/img/image-20230523164901608.png)

![image-20230523165352854](https://raw.githubusercontent.com/QDGSCLOUD/BJYH_picture/main/img/image-20230523165352854.png)





# 段的分类

> 此时省略

